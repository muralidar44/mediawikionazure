{"source":2,"revision":95,"description":null,"createdBy":{"displayName":"Muralidar Sripadha","url":"https://spsprodsin1.vssps.visualstudio.com/Ad8448dd9-e2f0-4156-ac65-47e604144df7/_apis/Identities/9d8cd0e3-a375-6493-9b44-e87e3c0379f9","_links":{"avatar":{"href":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"}},"id":"9d8cd0e3-a375-6493-9b44-e87e3c0379f9","uniqueName":"muralidar.sripadha@outlook.com","imageUrl":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5","descriptor":"msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"},"createdOn":"2022-08-06T18:19:15.017Z","modifiedBy":{"displayName":"Muralidar Sripadha","url":"https://spsprodsin1.vssps.visualstudio.com/Ad8448dd9-e2f0-4156-ac65-47e604144df7/_apis/Identities/9d8cd0e3-a375-6493-9b44-e87e3c0379f9","_links":{"avatar":{"href":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"}},"id":"9d8cd0e3-a375-6493-9b44-e87e3c0379f9","uniqueName":"muralidar.sripadha@outlook.com","imageUrl":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5","descriptor":"msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"},"modifiedOn":"2022-08-13T10:13:09.103Z","isDeleted":false,"lastRelease":{"id":259,"name":"Release-259","artifacts":[],"_links":{},"description":"Triggered by BuildPipeline_copy_TF_and_YML_artifacts 240.","releaseDefinition":{"id":1,"projectReference":null,"_links":{}},"createdOn":"2022-08-13T10:41:36.837Z","createdBy":{"displayName":"Muralidar Sripadha","url":"https://spsprodsin1.vssps.visualstudio.com/Ad8448dd9-e2f0-4156-ac65-47e604144df7/_apis/Identities/9d8cd0e3-a375-6493-9b44-e87e3c0379f9","_links":{"avatar":{"href":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"}},"id":"9d8cd0e3-a375-6493-9b44-e87e3c0379f9","uniqueName":"muralidar.sripadha@outlook.com","imageUrl":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5","descriptor":"msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"}},"variables":{"db_password":{"value":"Password1234!"}},"variableGroups":[],"environments":[{"id":1,"name":"Dev","rank":1,"owner":{"displayName":"Muralidar Sripadha","url":"https://spsprodsin1.vssps.visualstudio.com/Ad8448dd9-e2f0-4156-ac65-47e604144df7/_apis/Identities/9d8cd0e3-a375-6493-9b44-e87e3c0379f9","_links":{"avatar":{"href":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"}},"id":"9d8cd0e3-a375-6493-9b44-e87e3c0379f9","uniqueName":"muralidar.sripadha@outlook.com","imageUrl":"https://dev.azure.com/muralidarsripadha/_apis/GraphProfile/MemberAvatars/msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5","descriptor":"msa.OWQ4Y2QwZTMtYTM3NS03NDkzLTliNDQtZTg3ZTNjMDM3OWY5"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":1}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":2},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":3}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"ubuntu-22.04"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":36,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Linux agent","refName":null,"workflowTasks":[{"environment":{},"taskId":"a8515ec8-7254-4ffd-912c-86772e2b5962","version":"5.*","name":"Replace tokens in **/*.tf **/*.yml","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"rootDirectory":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git","targetFiles":"**/*.tf\n**/*.yml","encoding":"auto","tokenPattern":"default","tokenPrefix":"#{","tokenSuffix":"}#","writeBOM":"true","escapeType":"auto","escapeChar":"","charsToEscape":"","verbosity":"normal","actionOnMissing":"warn","keepToken":"false","actionOnNoFiles":"continue","enableTransforms":"false","transformPrefix":"(","transformSuffix":")","variableFiles":"","inlineVariables":"","variableSeparator":".","enableRecursion":"false","useLegacyPattern":"false","useLegacyEmptyFeature":"true","useDefaultValue":"false","emptyValue":"(empty)","defaultValue":"","enableTelemetry":"true"}},{"environment":{},"taskId":"a4789e5d-f6e8-431f-add9-379d640a883c","version":"0.*","name":"Install Terraform latest","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"terraformVersion":"latest"}},{"environment":{},"taskId":"fe504acc-6115-40cb-89ff-191386b5e7bf","version":"3.*","name":"Terraform : azurerm_int","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"provider":"azurerm","command":"init","workingDirectory":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/AzureInfra","customCommand":"","commandOptions":"-var-file=backend.tf -backend-config=client_id=$(client_id) -backend-config=client_secret=$(client_secret)","outputTo":"console","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendServiceArm":"a1d1678d-96ee-415d-91af-80a2ce6de5da","backendAzureRmResourceGroupName":"tstate-rg","backendAzureRmStorageAccountName":"tfstr8811","backendAzureRmContainerName":"tfstate","backendAzureRmKey":"mediawiki_b.tfstate","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"taskId":"fe504acc-6115-40cb-89ff-191386b5e7bf","version":"3.*","name":"Terraform : azurerm_plan","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"provider":"azurerm","command":"plan","workingDirectory":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/AzureInfra","customCommand":"","commandOptions":"-var-file=terraform_provider.tfvars -var client_secret=\"$(client_secret)\"","outputTo":"console","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"a1d1678d-96ee-415d-91af-80a2ce6de5da","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"taskId":"fe504acc-6115-40cb-89ff-191386b5e7bf","version":"3.*","name":"Terraform : azurerm_apply","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"provider":"azurerm","command":"apply","workingDirectory":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/AzureInfra","customCommand":"","commandOptions":"-var-file=terraform_provider.tfvars -var client_secret=\"$(client_secret)\"","outputTo":"console","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"a1d1678d-96ee-415d-91af-80a2ce6de5da","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"taskId":"6f650d20-9c5d-4cce-ad66-e68742ceadf5","version":"0.*","name":"DBAnsiblePlaybook copy","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ansibleInterface":"agentMachine","connectionOverSsh":"","playbookSourceRemoteMachine":"agentMachine","playbookRootRemoteMachine":"","playbookPathLinkedArtifactOnRemoteMachine":"","playbookPathAnsibleMachineOnRemoteMachine":"","playbookPathOnAgentMachine":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/mediawiki/db.yml","inventoriesRemoteMachine":"noInventory","inventoryFileSourceRemoteMachine":"agentMachine","inventoryFileLinkedArtifactOnRemoteMachine":"","inventoryFileAnsibleMachineOnRemoteMachine":"","inventoryHostListRemoteMachine":"","inventoryInlineDynamicRemoteMachine":"false","inventoryInlineContentRemoteMachine":"","inventoriesAgentMachine":"file","inventoryFileOnAgentMachine":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/mediawiki/inventory","inventoryHostListAgentMachine":"","inventoryInlineDynamicAgentMachine":"false","inventoryInlineContentAgentMachine":"","sudoEnabled":"true","sudoUser":"azureuser","args":"","failOnStdErr":"true","connectionAnsibleTower":"","jobTemplateName":""}},{"environment":{},"taskId":"6f650d20-9c5d-4cce-ad66-e68742ceadf5","version":"0.*","name":"ApplicationAnsiblePlaybook","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ansibleInterface":"agentMachine","connectionOverSsh":"8ca2331e-bb99-4f2b-9e4e-45b3250f723f","playbookSourceRemoteMachine":"ansibleMachine","playbookRootRemoteMachine":"$(System.DefaultWorkingDirectory)/_mediawikiproject-CI/drop/mediawiki.git/mediawiki/roles/app/tasks","playbookPathLinkedArtifactOnRemoteMachine":"main.yml","playbookPathAnsibleMachineOnRemoteMachine":"_mediawikiproject-CI/drop/mediawiki.git/mediawiki/app.yml","playbookPathOnAgentMachine":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/mediawiki/app.yml","inventoriesRemoteMachine":"file","inventoryFileSourceRemoteMachine":"agentMachine","inventoryFileLinkedArtifactOnRemoteMachine":"$(System.DefaultWorkingDirectory)/_mediawikiproject-CI/drop/mediawiki.git/mediawiki/inventory","inventoryFileAnsibleMachineOnRemoteMachine":"","inventoryHostListRemoteMachine":"","inventoryInlineDynamicRemoteMachine":"false","inventoryInlineContentRemoteMachine":"","inventoriesAgentMachine":"file","inventoryFileOnAgentMachine":"$(System.DefaultWorkingDirectory)/_BuildPipeline_copy_TF_and_YML_artifacts/drop/mediawiki.git/mediawiki/inventory","inventoryHostListAgentMachine":"","inventoryInlineDynamicAgentMachine":"false","inventoryInlineContentAgentMachine":"","sudoEnabled":"true","sudoUser":"azureuser","args":"","failOnStdErr":"true","connectionAnsibleTower":"","jobTemplateName":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":259,"url":"https://vsrm.dev.azure.com/muralidarsripadha/225bc770-9c5b-437a-9a20-bcd5e692cdf5/_apis/Release/releases/259","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/muralidarsripadha/_apis/public/Release/badge/225bc770-9c5b-437a-9a20-bcd5e692cdf5/1/1"}],"artifacts":[{"sourceId":"225bc770-9c5b-437a-9a20-bcd5e692cdf5:6","type":"Build","alias":"_BuildPipeline_copy_TF_and_YML_artifacts","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://dev.azure.com/muralidarsripadha/_permalink/_build/index?collectionId=f47e626e-d489-41be-b1c5-11b3320744d6&projectId=225bc770-9c5b-437a-9a20-bcd5e692cdf5&definitionId=6","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"6","name":"BuildPipeline_copy_TF_and_YML_artifacts"},"definitions":{"id":"","name":""},"IsMultiDefinitionType":{"id":"False","name":"False"},"project":{"id":"225bc770-9c5b-437a-9a20-bcd5e692cdf5","name":"mediawikiproject"},"repository":{"id":"","name":""}},"isPrimary":true,"isRetained":false}],"triggers":[{"artifactAlias":"_BuildPipeline_copy_TF_and_YML_artifacts","triggerConditions":[],"triggerType":1},{"artifactAlias":"_BuildPipeline_copy_TF_and_YML_artifacts","triggerConditions":[{"targetBranch":"main","tags":[]}],"pullRequestConfiguration":{"useArtifactReference":false,"codeRepositoryReference":{"systemType":1,"repositoryReference":{"pullRequestRepositoryId":{"value":"1bed25c8-43a7-4c3f-87c8-787bd2055232","displayValue":"mediawiki.git"},"pullRequestProjectId":{"value":"225bc770-9c5b-437a-9a20-bcd5e692cdf5","displayValue":"mediawikiproject"}}}},"statusPolicyName":"","triggerType":6}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"}},"id":1,"name":"DeployAzureInfra and MediaWiki app","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/muralidarsripadha/225bc770-9c5b-437a-9a20-bcd5e692cdf5/_apis/Release/definitions/1","_links":{"self":{"href":"https://vsrm.dev.azure.com/muralidarsripadha/225bc770-9c5b-437a-9a20-bcd5e692cdf5/_apis/Release/definitions/1"},"web":{"href":"https://dev.azure.com/muralidarsripadha/225bc770-9c5b-437a-9a20-bcd5e692cdf5/_release?definitionId=1"}}}